!function(t){"use strict";function e(e,i){this.element=e,this.config=i,this._items=t(),this._makeItems(),this._bindEvents()}function i(e,i){var n=this;this.element=e,this.config=i,Object.defineProperty(this,"section",{value:t(n.element.attr("href"))}),Object.defineProperty(this,"offset",{get:function(){var t=i.parent,e=getComputedStyle(t.get(0)),o=e.position,a=n.section.offset().top;return t.length&&"fixed"==o&&0==parseInt(e.top)&&(a=a-t.outerHeight()-parseInt(e.marginTop)),n.config.over.length&&(a-=n.config.over.outerHeight()),a}})}t.HSCore.components.HSScrollNav={_baseConfig:{duration:400,easing:"linear",over:t(),sectionClass:"u-scroll-nav-section",customOffsetTop:0,activeItemClass:"active",activeSectionClass:"active",afterShow:function(){},beforeShow:function(){},parent:t(".u-header")},_pageCollection:t(),init:function(i,n){var o=this;return i&&i.length?(i.each(function(i,a){var c=t(a),s=n&&t.isPlainObject(n)?t.extend(!0,{},o._baseConfig,n,c.data()):t.extend(!0,{},o._baseConfig,c.data());c.data("HSScrollNav")||(c.data("HSScrollNav",new e(c,s)),o._pageCollection=o._pageCollection.add(c))}),t(window).on("scroll.HSScrollNav",function(){o._pageCollection.each(function(e,i){t(i).data("HSScrollNav").highlight()})}).trigger("scroll.HSScrollNav"),i):t()}},e.prototype._makeItems=function(){var e=this;this.element.find('a[href^="#"]').each(function(n,o){var a=t(o);a.data("HSScrollNavSection")||(a.data("HSScrollNavSection",new i(a,e.config)),e._items=e._items.add(a))})},e.prototype._bindEvents=function(){var e=this;this.element.on("click.HSScrollNav",'a[href^="#"]',function(i){var n=this,o=t(this).data("HSScrollNavSection"),a=t(e.element).parent(),c=a.attr("id"),s=window.innerWidth,h=Boolean(e.element[0].dataset.mobileDestroy);s<=769&&!0===h?(t('[data-target="#'+c+'"]').trigger("click"),t('[data-target="#'+c+'"] > .u-hamburger__box').removeClass("is-active"),a.on("hidden.bs.collapse",function(){e._lockHightlight=!0,e.current&&e.current.unhighlight(),n.blur(),e.current=t(n).data("HSScrollNavSection"),e.current.highlight(),o.show(function(){e._lockHightlight=!1})})):(e._lockHightlight=!0,e.current&&e.current.unhighlight(),n.blur(),e.current=t(n).data("HSScrollNavSection"),e.current.highlight(),o.show(function(){e._lockHightlight=!1})),i.preventDefault()})},e.prototype.highlight=function(){var e,i;if(this._items.length&&!this._lockHightlight){if((i=t(window).scrollTop())+t(window).height()===t(document).height())return this.current=this._items.last().data("HSScrollNavSection"),this.unhighlight(),this.current.highlight(),void this.current.changeHash();this._items.each(function(n,o){var a=t(o).data("HSScrollNavSection");a.section;i>a.offset&&(e=a)}),e&&this.current!==e&&(this.unhighlight(),e.highlight(),this.current&&e.changeHash(),this.current=e)}},e.prototype.unhighlight=function(){this._items.each(function(e,i){t(i).data("HSScrollNavSection").unhighlight()})},i.prototype.show=function(e){var i=this;this.section.length&&(i.config.beforeShow.call(i.section),this.changeHash(),t("html, body").stop().animate({scrollTop:i.offset+i.config.customOffsetTop},{duration:i.config.duration,easing:i.config.easing,complete:function(){t("html, body").stop().animate({scrollTop:i.offset+i.config.customOffsetTop},{duration:i.config.duration,easing:i.config.easing,complete:function(){i.config.afterShow.call(i.section),t.isFunction(e)&&e()}})}}))},i.prototype.changeHash=function(){this.section.attr("id",""),t(this.config.sectionClass).removeClass(this.config.activeSectionClass),this.section.addClass(this.config.activeSectionClass),window.location.hash=this.element.attr("href"),this.section.attr("id",this.element.attr("href").slice(1))},i.prototype.highlight=function(){var t=this.element.parent("li");t.length&&t.addClass(this.config.activeItemClass)},i.prototype.unhighlight=function(){var t=this.element.parent("li");t.length&&t.removeClass(this.config.activeItemClass)}}(jQuery);