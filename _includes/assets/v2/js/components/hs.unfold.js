!function(t){"use strict";function e(e,n){var a=this;return!!e.length&&(a.element=e,a.config=n,a.target=t(a.element.data("unfold-target")),a.allInvokers=t('[data-unfold-target="'+a.element.data("unfold-target")+'"]'),a.toggle=function(){if(!a.target.length)return a;var e=a.element[0].dataset,n=!!e.unfoldOverlay&&JSON.parse(e.unfoldOverlay);return a.defaultState?(e.unfoldOverlay&&(t("."+n.className).length||t('<div class="'+n.className+'" style="background-color: '+n.background+'"></div>').prependTo("body"),t("."+n.className).length&&t("."+n.className).fadeIn(n.animationSpeed?n.animationSpeed:200)),a.show()):(t("."+n.className).length&&(a.config.unfoldTimeOut=setTimeout(function(){t("."+n.className).fadeOut(n.animationSpeed?n.animationSpeed:200)},a.config.unfoldDelay)),a.hide()),a},this.smartPosition=function(e){e.data("baseDirection")&&e.css(e.data("baseDirection").direction,e.data("baseDirection").value),e.removeClass("u-unfold--reverse-y");var n=t(window),a=getComputedStyle(e.get(0)),o=Math.abs(parseInt(a.left,10))<40?"left":"right",i=e.offset();"right"===o?(e.data("baseDirection")||e.data("baseDirection",{direction:"right",value:parseInt(a.right,10)}),i.left<0&&e.css("right",-1*(parseInt(e.css("right"),10)-(i.left-10)))):(e.data("baseDirection")||e.data("baseDirection",{direction:"left",value:parseInt(a.left,10)}),i.left+e.outerWidth()>n.width()&&e.css("left",parseInt(e.css("left"),10)-(i.left+e.outerWidth()+10-n.width()))),i.top+e.outerHeight()-n.scrollTop()>n.height()&&e.addClass("u-unfold--reverse-y")},this.getOption=function(t){return this.config[t]?this.config[t]:null},!0)}function n(t,n){e.call(this,t,n)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.addClass("u-unfold--simple"),this.hide())}function a(t,n){if(e.call(this,t,n)){var a=this;this.target.addClass("u-unfold--css-animation u-unfold--hidden").css("animation-duration",a.config.unfoldDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){a.target.hasClass(a.config.unfoldAnimationOut)&&(a.target.removeClass(a.config.unfoldAnimationOut).addClass("u-unfold--hidden"),a.allInvokers.length&&a.allInvokers.attr("aria-expanded","false"),a.config.afterClose.call(a.target,a.element)),a.target.hasClass(a.config.unfoldAnimationIn)&&(a.allInvokers.length&&a.allInvokers.attr("aria-expanded","true"),a.config.afterOpen.call(a.target,a.element)),t.preventDefault(),t.stopPropagation()})}}function o(t,n){e.call(this,t,n)&&(this.target.addClass("u-unfold--jquery-slide u-unfold--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}))}t.HSCore.components.HSUnfold={_baseConfig:{unfoldEvent:"click",unfoldType:"simple",unfoldDuration:300,unfoldEasing:"linear",unfoldAnimationIn:"fadeIn",unfoldAnimationOut:"fadeOut",unfoldHideOnScroll:!0,unfoldHideOnBlur:!1,unfoldDelay:350,unfoldOpenedElement:"init",unfoldOverlay:!1,afterOpen:function(t){},beforeClose:function(t){},afterClose:function(t){}},_pageCollection:t(),init:function(e,i){var d,l;if(e&&e.length)return d=this,e.each(function(e,s){var f,r=t(s);if(!r.data("HSUnfold")){switch((f=i&&t.isPlainObject(i)?t.extend(!0,{},d._baseConfig,i,r.data()):t.extend(!0,{},d._baseConfig,r.data())).unfoldType){case"css-animation":r.data("HSUnfold",new a(r,f));break;case"jquery-slide":r.data("HSUnfold",new o(r,f));break;default:r.data("HSUnfold",new n(r,f))}d._pageCollection=d._pageCollection.add(r),d._bindEvents(r,f.unfoldEvent,f.unfoldDelay);var u=t(s).data("HSUnfold");l=t(u.target).find("input, textarea").length,t(u.target).find("[data-unfold-target]").length&&r.addClass("target-of-invoker-has-unfolds")}}),t(document).on("click touchstart","body",function(e){e.target.id!==d._baseConfig.unfoldOpenedElement&&(t(e.target).closest("#"+d._baseConfig.unfoldOpenedElement).length||d._pageCollection.each(function(e,n){var a=window.innerWidth,o=Boolean(t(n).data("is-mobile-only"));o?o&&a<769&&t(n).data("HSUnfold").hide():t(n).data("HSUnfold").hide(),t(n).data("HSUnfold").config.unfoldOverlay&&(t(n).data("HSUnfold").config.unfoldDelay=setTimeout(function(){t("."+t(n).data("HSUnfold").config.unfoldOverlay.className).fadeOut(t(n).data("HSUnfold").config.unfoldOverlay.animationSpeed?t(n).data("HSUnfold").config.unfoldOverlay.animationSpeed:200)},t(n).data("HSUnfold").config.unfoldDelay)),t(n).data("HSUnfold").config.beforeClose.call(d.target,d.element)}))}),t(window).on("scroll.HSUnfold",function(){d._pageCollection.each(function(e,n){var a=t(n).data("HSUnfold");a.getOption("unfoldHideOnScroll")&&0===l?a.hide():a.getOption("unfoldHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&a.hide()})}),t(window).on("resize.HSUnfold",function(){d._resizeTimeOutId&&clearTimeout(d._resizeTimeOutId),d._resizeTimeOutId=setTimeout(function(){d._pageCollection.each(function(e,n){var a=t(n).data("HSUnfold");a.smartPosition(a.target)})},50)}),t(document).on("keydown.HSUnfold",function(e){t("body").hasClass("u-unfold-opened")&&((e.keyCode&&38===e.keyCode||e.keyCode&&40===e.keyCode)&&e.preventDefault(),e.keyCode&&27===e.keyCode&&(d._pageCollection.each(function(e,n){t(n).data("HSUnfold").hide()}),t("body").removeClass("u-unfold-opened")))}),e},_bindEvents:function(e,n,a){var o=this,i=t(e.data("unfold-target"));"hover"!==n||"ontouchstart"in window?(e.on("click.HSUnfold",function(e){var n=t(this),a=t("[data-unfold-target].active:not(.target-of-invoker-has-unfolds)"),i=t("[data-unfold-target].active.target-of-invoker-has-unfolds");o._baseConfig.unfoldOpenedElement=n.data("HSUnfold").target[0].id,n.data("HSUnfold")&&(n.hasClass("target-of-invoker-has-unfolds")?i.length&&i.data("HSUnfold").toggle():a.length&&a.data("HSUnfold").toggle(),n.data("HSUnfold").toggle(),t("body").toggleClass("u-unfold-opened"),e.stopPropagation(),e.preventDefault())}),Boolean(e.data("unfold-target-is-menu"))&&t(e.data("unfold-target")).children().on("click",function(){e.data("HSUnfold").toggle()})):(e.on("mouseenter.HSUnfold",function(){var e=t(this).data("HSUnfold");e&&(e.unfoldTimeOut&&clearTimeout(e.unfoldTimeOut),e.show(),t("body").addClass("u-unfold-opened"))}).on("mouseleave.HSUnfold",function(){var e=t(this).data("HSUnfold");e&&(e.unfoldTimeOut=setTimeout(function(){e.hide(),t("body").removeClass("u-unfold-opened")},a))}),i.length&&i.on("mouseenter.HSUnfold",function(){var t=e.data("HSUnfold");t.unfoldTimeOut&&clearTimeout(t.unfoldTimeOut),t.show()}).on("mouseleave.HSUnfold",function(){var t=e.data("HSUnfold");t.unfoldTimeOut=setTimeout(function(){t.hide()},a)}))}},n.prototype.show=function(){var e=t(this)[0].config.unfoldTarget;return t('[data-unfold-target="'+e+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},n.prototype.hide=function(){var e=t(this)[0].config.unfoldTarget;return t('[data-unfold-target="'+e+'"]').removeClass("active"),this.target.addClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},a.prototype.show=function(){var e=this,n=t(e)[0].config.unfoldTarget;t('[data-unfold-target="'+n+'"]').addClass("active"),e.smartPosition(e.target),e.target.removeClass("u-unfold--hidden").removeClass(e.config.unfoldAnimationOut),e.config.unfoldOverlay?setTimeout(function(){e.target.addClass(e.config.unfoldAnimationIn)}):e.target.addClass(e.config.unfoldAnimationIn),e.config.afterOpen.call(e.target,e.element)},a.prototype.hide=function(){var e=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+e+'"]').removeClass("active"),this.target.removeClass(this.config.unfoldAnimationIn).addClass(this.config.unfoldAnimationOut)},o.prototype.show=function(){var e=this,n=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+n+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").stop().slideDown({duration:e.config.unfoldDuration,easing:e.config.unfoldEasing,complete:function(){e.config.afterOpen.call(e.target,e.element)}})},o.prototype.hide=function(){var e=this,n=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+n+'"]').removeClass("active"),this.target.slideUp({duration:e.config.unfoldDuration,easing:e.config.unfoldEasing,complete:function(){e.config.afterClose.call(e.target,e.element),e.target.addClass("u-unfold--hidden")}})}}(jQuery);